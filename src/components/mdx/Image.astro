---
// Custom MDX Image component that automatically adds lightbox functionality
export interface Props {
  src: string;
  alt?: string;
  title?: string;
  width?: number | string;
  height?: number | string;
  loading?: "lazy" | "eager";
  decoding?: "async" | "sync" | "auto";
}

const { 
  src, 
  alt = "", 
  title,
  width,
  height,
  loading = "lazy",
  decoding = "async"
} = Astro.props;

// For relative paths in MDX, ensure they work correctly
const imageSrc = src.startsWith('/') ? src : `/${src}`;
---

<img
  src={imageSrc}
  alt={alt}
  title={title}
  width={width}
  height={height}
  loading={loading}
  decoding={decoding}
  data-lightbox="true"
  data-full-src={imageSrc}
  class="w-full rounded-lg shadow-lg cursor-zoom-in hover:shadow-xl transition-shadow duration-300"
/>